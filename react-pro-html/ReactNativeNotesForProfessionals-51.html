<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
<title>Page 51</title>

<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<style type="text/css">
<!--
	p {margin: 0; padding: 0;}	.ft00{font-size:15px;font-family:AKVMDQ+Quicksand;color:#05a4d1;}
	.ft01{font-size:15px;font-family:AQIEPH+OpenSans;color:#000000;}
	.ft02{font-size:13px;font-family:AQBTGV+RobotoMono;color:#000000;}
	.ft03{font-size:13px;font-family:AQBTGV+RobotoMono;color:#660066;}
	.ft04{font-size:13px;font-family:AQBTGV+RobotoMono;color:#666666;}
	.ft05{font-size:13px;font-family:AOOFJR+RobotoMono;color:#000066;}
	.ft06{font-size:27px;font-family:AGEGBK+Quicksand;color:#05a4d1;}
	.ft07{font-size:15px;font-family:BDVIQH+OpenSans;color:#000000;}
	.ft08{font-size:13px;font-family:AQBTGV+RobotoMono;color:#660033;}
	.ft09{font-size:13px;font-family:AQBTGV+RobotoMono;color:#003366;}
	.ft010{font-size:13px;font-family:AQBTGV+RobotoMono;color:#3366cc;}
	.ft011{font-size:13px;font-family:AOAEKO+RobotoMono;color:#006600;}
	.ft012{font-size:15px;line-height:22px;font-family:AQIEPH+OpenSans;color:#000000;}
-->
</style>
</head>
<body bgcolor="#A0A0A0" vlink="blue" link="blue">
<div id="page51-div" style="position:relative;width:892px;height:1262px;">
<img width="892" height="1262" src="ReactNativeNotesForProfessionals051.png" alt="background image"/>
<p style="position:absolute;top:1213px;left:44px;white-space:nowrap" class="ft00"><a href="https://goalkicker.com/">GoalKicker.com – React Native Notes for Professionals</a></p>
<p style="position:absolute;top:1213px;left:831px;white-space:nowrap" class="ft00">47</p>
<p style="position:absolute;top:44px;left:43px;white-space:nowrap" class="ft01">Next in constructor of your root component you can add this:</p>
<p style="position:absolute;top:89px;left:48px;white-space:nowrap" class="ft02">axios.</p>
<p style="position:absolute;top:89px;left:97px;white-space:nowrap" class="ft03">interceptors</p>
<p style="position:absolute;top:89px;left:194px;white-space:nowrap" class="ft02">.</p>
<p style="position:absolute;top:89px;left:202px;white-space:nowrap" class="ft03">request</p>
<p style="position:absolute;top:89px;left:259px;white-space:nowrap" class="ft02">.</p>
<p style="position:absolute;top:89px;left:267px;white-space:nowrap" class="ft03">use</p>
<p style="position:absolute;top:89px;left:291px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:89px;left:299px;white-space:nowrap" class="ft02">getAuthToken</p>
<p style="position:absolute;top:89px;left:396px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:89px;left:405px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:89px;left:437px;white-space:nowrap" class="ft02">.</p>
<p style="position:absolute;top:89px;left:445px;white-space:nowrap" class="ft03">state</p>
<p style="position:absolute;top:89px;left:486px;white-space:nowrap" class="ft02">.</p>
<p style="position:absolute;top:89px;left:494px;white-space:nowrap" class="ft03">store</p>
<p style="position:absolute;top:89px;left:534px;white-space:nowrap" class="ft04">));</p>
<p style="position:absolute;top:130px;left:43px;white-space:nowrap" class="ft01">and then all your requests will be followed with your authorization token.</p>
<p style="position:absolute;top:169px;left:43px;white-space:nowrap" class="ft01">As you can see axios is very simple, conﬁgurable and useful library for applications based on react-native.</p>
<p style="position:absolute;top:206px;left:43px;white-space:nowrap" class="ft06"><b>Section 15.6: Web Socket with Socket.io</b></p>
<p style="position:absolute;top:256px;left:43px;white-space:nowrap" class="ft01">Install&#160;</p>
<p style="position:absolute;top:256px;left:88px;white-space:nowrap" class="ft07"><i>socket.io-client</i></p>
<p style="position:absolute;top:301px;left:48px;white-space:nowrap" class="ft02">npm i socket.io-client&#160;</p>
<p style="position:absolute;top:301px;left:234px;white-space:nowrap" class="ft08">--save</p>
<p style="position:absolute;top:342px;left:43px;white-space:nowrap" class="ft01">Import module</p>
<p style="position:absolute;top:387px;left:48px;white-space:nowrap" class="ft09">import</p>
<p style="position:absolute;top:387px;left:97px;white-space:nowrap" class="ft02">&#160;SocketIOClient from&#160;</p>
<p style="position:absolute;top:387px;left:267px;white-space:nowrap" class="ft010">'socket.io-client/dist/socket.io.js'</p>
<p style="position:absolute;top:428px;left:43px;white-space:nowrap" class="ft01">Initialize in your constructor</p>
<p style="position:absolute;top:473px;left:48px;white-space:nowrap" class="ft02">constructor</p>
<p style="position:absolute;top:473px;left:137px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:473px;left:145px;white-space:nowrap" class="ft02">props</p>
<p style="position:absolute;top:473px;left:186px;white-space:nowrap" class="ft04">){</p>
<p style="position:absolute;top:491px;left:48px;white-space:nowrap" class="ft02">&#160; &#160;&#160;</p>
<p style="position:absolute;top:491px;left:81px;white-space:nowrap" class="ft09">super</p>
<p style="position:absolute;top:491px;left:121px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:491px;left:129px;white-space:nowrap" class="ft02">props</p>
<p style="position:absolute;top:491px;left:170px;white-space:nowrap" class="ft04">);</p>
<p style="position:absolute;top:510px;left:48px;white-space:nowrap" class="ft02">&#160; &#160;&#160;</p>
<p style="position:absolute;top:510px;left:81px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:510px;left:113px;white-space:nowrap" class="ft02">.</p>
<p style="position:absolute;top:510px;left:121px;white-space:nowrap" class="ft03">socket</p>
<p style="position:absolute;top:510px;left:170px;white-space:nowrap" class="ft02">&#160;</p>
<p style="position:absolute;top:510px;left:178px;white-space:nowrap" class="ft04">=</p>
<p style="position:absolute;top:510px;left:186px;white-space:nowrap" class="ft02">&#160;SocketIOClient</p>
<p style="position:absolute;top:510px;left:307px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:510px;left:315px;white-space:nowrap" class="ft010">'http://server:3000'</p>
<p style="position:absolute;top:510px;left:477px;white-space:nowrap" class="ft04">);</p>
<p style="position:absolute;top:528px;left:48px;white-space:nowrap" class="ft02">&#160;&#160;</p>
<p style="position:absolute;top:528px;left:64px;white-space:nowrap" class="ft04">}</p>
<p style="position:absolute;top:570px;left:43px;white-space:nowrap" class="ft012">Now in order to use your socket connection properly, you should bind your functions in constructor too. Let's<br/>assume that we have to build a simple application, which will send a ping to a server via socket after every 5<br/>seconds (consider this as ping), and then the application will get a reply from the server. To do so, let's ﬁrst create<br/>these two functions:</p>
<p style="position:absolute;top:682px;left:48px;white-space:nowrap" class="ft02">_sendPing</p>
<p style="position:absolute;top:682px;left:121px;white-space:nowrap" class="ft04">(){</p>
<p style="position:absolute;top:700px;left:48px;white-space:nowrap" class="ft02">&#160; &#160;&#160;</p>
<p style="position:absolute;top:700px;left:81px;white-space:nowrap" class="ft011"><i>//emit a dong message to socket server</i></p>
<p style="position:absolute;top:719px;left:48px;white-space:nowrap" class="ft02">&#160; &#160; socket.</p>
<p style="position:absolute;top:719px;left:137px;white-space:nowrap" class="ft03">emit</p>
<p style="position:absolute;top:719px;left:170px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:719px;left:178px;white-space:nowrap" class="ft010">'ding'</p>
<p style="position:absolute;top:719px;left:226px;white-space:nowrap" class="ft04">);</p>
<p style="position:absolute;top:737px;left:48px;white-space:nowrap" class="ft04">}</p>
<p style="position:absolute;top:774px;left:48px;white-space:nowrap" class="ft02">_getReply</p>
<p style="position:absolute;top:774px;left:121px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:774px;left:129px;white-space:nowrap" class="ft02">data</p>
<p style="position:absolute;top:774px;left:162px;white-space:nowrap" class="ft04">){</p>
<p style="position:absolute;top:793px;left:48px;white-space:nowrap" class="ft02">&#160; &#160;&#160;</p>
<p style="position:absolute;top:793px;left:81px;white-space:nowrap" class="ft011"><i>//get reply from socket server, log it to console</i></p>
<p style="position:absolute;top:811px;left:48px;white-space:nowrap" class="ft02">&#160; &#160; console.</p>
<p style="position:absolute;top:811px;left:145px;white-space:nowrap" class="ft03">log</p>
<p style="position:absolute;top:811px;left:170px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:811px;left:178px;white-space:nowrap" class="ft010">'Reply from server:'</p>
<p style="position:absolute;top:811px;left:340px;white-space:nowrap" class="ft02">&#160;</p>
<p style="position:absolute;top:811px;left:348px;white-space:nowrap" class="ft04">+</p>
<p style="position:absolute;top:811px;left:356px;white-space:nowrap" class="ft02">&#160;data</p>
<p style="position:absolute;top:811px;left:396px;white-space:nowrap" class="ft04">);</p>
<p style="position:absolute;top:830px;left:48px;white-space:nowrap" class="ft04">}</p>
<p style="position:absolute;top:871px;left:43px;white-space:nowrap" class="ft01">Now, we need to bind these two functions in our constructor:</p>
<p style="position:absolute;top:916px;left:48px;white-space:nowrap" class="ft02">constructor</p>
<p style="position:absolute;top:916px;left:137px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:916px;left:145px;white-space:nowrap" class="ft02">props</p>
<p style="position:absolute;top:916px;left:186px;white-space:nowrap" class="ft04">){</p>
<p style="position:absolute;top:934px;left:48px;white-space:nowrap" class="ft02">&#160; &#160;&#160;</p>
<p style="position:absolute;top:934px;left:81px;white-space:nowrap" class="ft09">super</p>
<p style="position:absolute;top:934px;left:121px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:934px;left:129px;white-space:nowrap" class="ft02">props</p>
<p style="position:absolute;top:934px;left:170px;white-space:nowrap" class="ft04">);</p>
<p style="position:absolute;top:952px;left:48px;white-space:nowrap" class="ft02">&#160; &#160;&#160;</p>
<p style="position:absolute;top:952px;left:81px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:952px;left:113px;white-space:nowrap" class="ft02">.</p>
<p style="position:absolute;top:952px;left:121px;white-space:nowrap" class="ft03">socket</p>
<p style="position:absolute;top:952px;left:170px;white-space:nowrap" class="ft02">&#160;</p>
<p style="position:absolute;top:952px;left:178px;white-space:nowrap" class="ft04">=</p>
<p style="position:absolute;top:952px;left:186px;white-space:nowrap" class="ft02">&#160;SocketIOClient</p>
<p style="position:absolute;top:952px;left:307px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:952px;left:315px;white-space:nowrap" class="ft010">'http://server:3000'</p>
<p style="position:absolute;top:952px;left:477px;white-space:nowrap" class="ft04">);</p>
<p style="position:absolute;top:989px;left:48px;white-space:nowrap" class="ft02">&#160; &#160;&#160;</p>
<p style="position:absolute;top:989px;left:81px;white-space:nowrap" class="ft011"><i>//bind the functions</i></p>
<p style="position:absolute;top:1008px;left:48px;white-space:nowrap" class="ft02">&#160; &#160;&#160;</p>
<p style="position:absolute;top:1008px;left:81px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:1008px;left:113px;white-space:nowrap" class="ft02">._sendPing&#160;</p>
<p style="position:absolute;top:1008px;left:202px;white-space:nowrap" class="ft04">=</p>
<p style="position:absolute;top:1008px;left:210px;white-space:nowrap" class="ft02">&#160;</p>
<p style="position:absolute;top:1008px;left:218px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:1008px;left:251px;white-space:nowrap" class="ft02">._sendPing.</p>
<p style="position:absolute;top:1008px;left:340px;white-space:nowrap" class="ft03">bind</p>
<p style="position:absolute;top:1008px;left:372px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:1008px;left:380px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:1008px;left:413px;white-space:nowrap" class="ft04">);</p>
<p style="position:absolute;top:1026px;left:48px;white-space:nowrap" class="ft02">&#160; &#160;&#160;</p>
<p style="position:absolute;top:1026px;left:81px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:1026px;left:113px;white-space:nowrap" class="ft02">._getReply&#160;</p>
<p style="position:absolute;top:1026px;left:202px;white-space:nowrap" class="ft04">=</p>
<p style="position:absolute;top:1026px;left:210px;white-space:nowrap" class="ft02">&#160;</p>
<p style="position:absolute;top:1026px;left:218px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:1026px;left:251px;white-space:nowrap" class="ft02">._getReply.</p>
<p style="position:absolute;top:1026px;left:340px;white-space:nowrap" class="ft03">bind</p>
<p style="position:absolute;top:1026px;left:372px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:1026px;left:380px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:1026px;left:413px;white-space:nowrap" class="ft04">);</p>
<p style="position:absolute;top:1045px;left:48px;white-space:nowrap" class="ft04">}</p>
<p style="position:absolute;top:1086px;left:43px;white-space:nowrap" class="ft012">After that, we also need to link _getReply function with the socket in order to receive the message from the socket<br/>server. To do this we need to attach our _getReply function with socket object. Add the following line to our<br/>constructor:</p>
<p style="position:absolute;top:1176px;left:48px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:1176px;left:81px;white-space:nowrap" class="ft02">.</p>
<p style="position:absolute;top:1176px;left:89px;white-space:nowrap" class="ft03">socket</p>
<p style="position:absolute;top:1176px;left:137px;white-space:nowrap" class="ft02">.</p>
<p style="position:absolute;top:1176px;left:145px;white-space:nowrap" class="ft03">on</p>
<p style="position:absolute;top:1176px;left:162px;white-space:nowrap" class="ft04">(</p>
<p style="position:absolute;top:1176px;left:170px;white-space:nowrap" class="ft010">'dong'</p>
<p style="position:absolute;top:1176px;left:218px;white-space:nowrap" class="ft04">,</p>
<p style="position:absolute;top:1176px;left:226px;white-space:nowrap" class="ft02">&#160;</p>
<p style="position:absolute;top:1176px;left:234px;white-space:nowrap" class="ft05"><b>this</b></p>
<p style="position:absolute;top:1176px;left:267px;white-space:nowrap" class="ft02">._getReply</p>
<p style="position:absolute;top:1176px;left:348px;white-space:nowrap" class="ft04">);</p>
</div>
</body>
</html>
